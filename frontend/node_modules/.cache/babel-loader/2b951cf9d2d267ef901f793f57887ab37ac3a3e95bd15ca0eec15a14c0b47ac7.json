{"ast":null,"code":"var _jsxFileName = \"D:\\\\respaldo jose\\\\PROJECTS_V0\\\\hub360\\\\frontend\\\\src\\\\components\\\\Viewer\\\\GyroscopeTest.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport './GyroscopeTest.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GyroscopeTest() {\n  _s();\n  var _deviceOrientation$al, _deviceOrientation$be, _deviceOrientation$ga;\n  const navigate = useNavigate();\n  const containerRef = useRef();\n  const cameraRef = useRef();\n  const sceneRef = useRef();\n  const rendererRef = useRef();\n  const controlsRef = useRef();\n  const [isMobile, setIsMobile] = useState(false);\n  const [gyroscopeSupported, setGyroscopeSupported] = useState(false);\n  const [deviceOrientation, setDeviceOrientation] = useState({\n    alpha: 0,\n    beta: 0,\n    gamma: 0\n  });\n  const [permissionGranted, setPermissionGranted] = useState(false);\n  useEffect(() => {\n    // Detectar si es dispositivo móvil\n    const checkMobile = () => {\n      const userAgent = navigator.userAgent || navigator.vendor || window.opera;\n      const mobileRegex = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;\n      const isMobileDevice = mobileRegex.test(userAgent);\n      setIsMobile(isMobileDevice);\n      return isMobileDevice;\n    };\n    const mobile = checkMobile();\n\n    // Verificar soporte de giroscopio\n    if (mobile && window.DeviceOrientationEvent) {\n      setGyroscopeSupported(true);\n    }\n\n    // Configuración de Three.js\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.set(0, 0, 0.1);\n    cameraRef.current = camera;\n    sceneRef.current = scene;\n    const renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    rendererRef.current = renderer;\n    containerRef.current.appendChild(renderer.domElement);\n\n    // Controles de órbita para desktop\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.enableDamping = true;\n    controls.dampingFactor = 0.05;\n    controls.enableZoom = true;\n    controls.minDistance = 0.05;\n    controls.maxDistance = 2.5;\n    controlsRef.current = controls;\n\n    // Cargar imagen 360\n    const geometry = new THREE.SphereGeometry(500, 128, 96);\n    geometry.scale(-1, 1, 1);\n    const textureLoader = new THREE.TextureLoader();\n    textureLoader.load('/brandshop1.jpg', texture => {\n      texture.minFilter = THREE.LinearFilter;\n      texture.magFilter = THREE.LinearFilter;\n      if (texture.colorSpace !== undefined && THREE.LinearSRGBColorSpace) {\n        texture.colorSpace = THREE.LinearSRGBColorSpace;\n      }\n      const material = new THREE.MeshBasicMaterial({\n        map: texture,\n        side: THREE.DoubleSide\n      });\n      const sphere = new THREE.Mesh(geometry, material);\n      scene.add(sphere);\n    });\n\n    // Función de animación\n    const animate = () => {\n      requestAnimationFrame(animate);\n      if (mobile && gyroscopeSupported) {\n        // Usar datos del giroscopio para rotar la cámara\n        const {\n          alpha,\n          beta,\n          gamma\n        } = deviceOrientation;\n\n        // Convertir grados a radianes\n        const alphaRad = THREE.MathUtils.degToRad(alpha || 0);\n        const betaRad = THREE.MathUtils.degToRad(beta || 0);\n        const gammaRad = THREE.MathUtils.degToRad(gamma || 0);\n\n        // Aplicar rotación basada en el giroscopio\n        camera.rotation.set(betaRad - Math.PI / 2,\n        // Pitch (rotación X)\n        alphaRad,\n        // Yaw (rotación Y)\n        gammaRad // Roll (rotación Z)\n        );\n      } else {\n        // Usar controles de órbita para desktop\n        controls.update();\n      }\n      renderer.render(scene, camera);\n    };\n    animate();\n\n    // Manejar eventos de orientación del dispositivo\n    const handleDeviceOrientation = event => {\n      if (mobile && gyroscopeSupported) {\n        setDeviceOrientation({\n          alpha: event.alpha || 0,\n          beta: event.beta || 0,\n          gamma: event.gamma || 0\n        });\n      }\n    };\n\n    // Solicitar permisos de orientación del dispositivo\n    const requestDeviceOrientationPermission = async () => {\n      if (mobile && 'DeviceOrientationEvent' in window) {\n        try {\n          // Para iOS 13+\n          if (typeof DeviceOrientationEvent.requestPermission === 'function') {\n            const permission = await DeviceOrientationEvent.requestPermission();\n            if (permission === 'granted') {\n              window.addEventListener('deviceorientation', handleDeviceOrientation);\n            }\n          } else {\n            // Para Android y otros dispositivos\n            window.addEventListener('deviceorientation', handleDeviceOrientation);\n          }\n        } catch (error) {\n          console.error('Error al solicitar permisos de orientación:', error);\n        }\n      }\n    };\n\n    // Manejar cambio de tamaño de ventana\n    const handleResize = () => {\n      const width = window.innerWidth;\n      const height = window.innerHeight;\n      camera.aspect = width / height;\n      camera.updateProjectionMatrix();\n      renderer.setSize(width, height);\n    };\n    window.addEventListener('resize', handleResize);\n\n    // Solicitar permisos al cargar\n    requestDeviceOrientationPermission();\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      window.removeEventListener('deviceorientation', handleDeviceOrientation);\n      if (containerRef.current && renderer.domElement) {\n        containerRef.current.removeChild(renderer.domElement);\n      }\n      renderer.dispose();\n    };\n  }, [isMobile, gyroscopeSupported, deviceOrientation]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"gyroscope-test-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gyroscope-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Prueba de Giroscopio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"device-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Dispositivo: \", isMobile ? 'Móvil' : 'Desktop']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Giroscopio: \", gyroscopeSupported ? 'Soportado' : 'No soportado']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), isMobile && gyroscopeSupported && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orientation-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Alpha: \", (_deviceOrientation$al = deviceOrientation.alpha) === null || _deviceOrientation$al === void 0 ? void 0 : _deviceOrientation$al.toFixed(2), \"\\xB0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Beta: \", (_deviceOrientation$be = deviceOrientation.beta) === null || _deviceOrientation$be === void 0 ? void 0 : _deviceOrientation$be.toFixed(2), \"\\xB0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Gamma: \", (_deviceOrientation$ga = deviceOrientation.gamma) === null || _deviceOrientation$ga === void 0 ? void 0 : _deviceOrientation$ga.toFixed(2), \"\\xB0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"gyroscope-viewer\",\n      style: {\n        width: '100%',\n        height: 'calc(100vh - 200px)',\n        position: 'relative',\n        overflow: 'hidden'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gyroscope-instructions\",\n      children: isMobile ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Instrucciones para m\\xF3vil:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Mueve tu dispositivo para explorar la imagen 360\\xB0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 El movimiento del tel\\xE9fono se refleja en tiempo real\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Aseg\\xFArate de permitir el acceso al giroscopio cuando se solicite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Instrucciones para desktop:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Usa el mouse para arrastrar y explorar la imagen 360\\xB0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Usa la rueda del mouse para hacer zoom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Prueba esta funci\\xF3n en un dispositivo m\\xF3vil para el giroscopio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n}\n_s(GyroscopeTest, \"wGqyTh0uM3MZT+Bq3ep0p1KDOec=\", false, function () {\n  return [useNavigate];\n});\n_c = GyroscopeTest;\nexport default GyroscopeTest;\nvar _c;\n$RefreshReg$(_c, \"GyroscopeTest\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useNavigate","THREE","OrbitControls","jsxDEV","_jsxDEV","GyroscopeTest","_s","_deviceOrientation$al","_deviceOrientation$be","_deviceOrientation$ga","navigate","containerRef","cameraRef","sceneRef","rendererRef","controlsRef","isMobile","setIsMobile","gyroscopeSupported","setGyroscopeSupported","deviceOrientation","setDeviceOrientation","alpha","beta","gamma","permissionGranted","setPermissionGranted","checkMobile","userAgent","navigator","vendor","window","opera","mobileRegex","isMobileDevice","test","mobile","DeviceOrientationEvent","scene","Scene","camera","PerspectiveCamera","innerWidth","innerHeight","position","set","current","renderer","WebGLRenderer","antialias","setSize","appendChild","domElement","controls","enableDamping","dampingFactor","enableZoom","minDistance","maxDistance","geometry","SphereGeometry","scale","textureLoader","TextureLoader","load","texture","minFilter","LinearFilter","magFilter","colorSpace","undefined","LinearSRGBColorSpace","material","MeshBasicMaterial","map","side","DoubleSide","sphere","Mesh","add","animate","requestAnimationFrame","alphaRad","MathUtils","degToRad","betaRad","gammaRad","rotation","Math","PI","update","render","handleDeviceOrientation","event","requestDeviceOrientationPermission","requestPermission","permission","addEventListener","error","console","handleResize","width","height","aspect","updateProjectionMatrix","removeEventListener","removeChild","dispose","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","ref","style","overflow","_c","$RefreshReg$"],"sources":["D:/respaldo jose/PROJECTS_V0/hub360/frontend/src/components/Viewer/GyroscopeTest.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport './GyroscopeTest.css';\r\n\r\nfunction GyroscopeTest() {\r\n  const navigate = useNavigate();\r\n  const containerRef = useRef();\r\n  const cameraRef = useRef();\r\n  const sceneRef = useRef();\r\n  const rendererRef = useRef();\r\n  const controlsRef = useRef();\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [gyroscopeSupported, setGyroscopeSupported] = useState(false);\r\n  const [deviceOrientation, setDeviceOrientation] = useState({ alpha: 0, beta: 0, gamma: 0 });\r\n  const [permissionGranted, setPermissionGranted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Detectar si es dispositivo móvil\r\n    const checkMobile = () => {\r\n      const userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n      const mobileRegex = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;\r\n      const isMobileDevice = mobileRegex.test(userAgent);\r\n      setIsMobile(isMobileDevice);\r\n      return isMobileDevice;\r\n    };\r\n\r\n    const mobile = checkMobile();\r\n\r\n    // Verificar soporte de giroscopio\r\n    if (mobile && window.DeviceOrientationEvent) {\r\n      setGyroscopeSupported(true);\r\n    }\r\n\r\n    // Configuración de Three.js\r\n    const scene = new THREE.Scene();\r\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\r\n    camera.position.set(0, 0, 0.1);\r\n    cameraRef.current = camera;\r\n    sceneRef.current = scene;\r\n\r\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    rendererRef.current = renderer;\r\n    containerRef.current.appendChild(renderer.domElement);\r\n\r\n    // Controles de órbita para desktop\r\n    const controls = new OrbitControls(camera, renderer.domElement);\r\n    controls.enableDamping = true;\r\n    controls.dampingFactor = 0.05;\r\n    controls.enableZoom = true;\r\n    controls.minDistance = 0.05;\r\n    controls.maxDistance = 2.5;\r\n    controlsRef.current = controls;\r\n\r\n    // Cargar imagen 360\r\n    const geometry = new THREE.SphereGeometry(500, 128, 96);\r\n    geometry.scale(-1, 1, 1);\r\n\r\n    const textureLoader = new THREE.TextureLoader();\r\n    textureLoader.load('/brandshop1.jpg', texture => {\r\n      texture.minFilter = THREE.LinearFilter;\r\n      texture.magFilter = THREE.LinearFilter;\r\n      if (texture.colorSpace !== undefined && THREE.LinearSRGBColorSpace) {\r\n        texture.colorSpace = THREE.LinearSRGBColorSpace;\r\n      }\r\n      \r\n      const material = new THREE.MeshBasicMaterial({\r\n        map: texture,\r\n        side: THREE.DoubleSide\r\n      });\r\n      \r\n      const sphere = new THREE.Mesh(geometry, material);\r\n      scene.add(sphere);\r\n    });\r\n\r\n    // Función de animación\r\n    const animate = () => {\r\n      requestAnimationFrame(animate);\r\n      \r\n      if (mobile && gyroscopeSupported) {\r\n        // Usar datos del giroscopio para rotar la cámara\r\n        const { alpha, beta, gamma } = deviceOrientation;\r\n        \r\n        // Convertir grados a radianes\r\n        const alphaRad = THREE.MathUtils.degToRad(alpha || 0);\r\n        const betaRad = THREE.MathUtils.degToRad(beta || 0);\r\n        const gammaRad = THREE.MathUtils.degToRad(gamma || 0);\r\n        \r\n        // Aplicar rotación basada en el giroscopio\r\n        camera.rotation.set(\r\n          betaRad - Math.PI / 2, // Pitch (rotación X)\r\n          alphaRad, // Yaw (rotación Y)\r\n          gammaRad // Roll (rotación Z)\r\n        );\r\n      } else {\r\n        // Usar controles de órbita para desktop\r\n        controls.update();\r\n      }\r\n      \r\n      renderer.render(scene, camera);\r\n    };\r\n    animate();\r\n\r\n    // Manejar eventos de orientación del dispositivo\r\n    const handleDeviceOrientation = (event) => {\r\n      if (mobile && gyroscopeSupported) {\r\n        setDeviceOrientation({\r\n          alpha: event.alpha || 0,\r\n          beta: event.beta || 0,\r\n          gamma: event.gamma || 0\r\n        });\r\n      }\r\n    };\r\n\r\n    // Solicitar permisos de orientación del dispositivo\r\n    const requestDeviceOrientationPermission = async () => {\r\n      if (mobile && 'DeviceOrientationEvent' in window) {\r\n        try {\r\n          // Para iOS 13+\r\n          if (typeof DeviceOrientationEvent.requestPermission === 'function') {\r\n            const permission = await DeviceOrientationEvent.requestPermission();\r\n            if (permission === 'granted') {\r\n              window.addEventListener('deviceorientation', handleDeviceOrientation);\r\n            }\r\n          } else {\r\n            // Para Android y otros dispositivos\r\n            window.addEventListener('deviceorientation', handleDeviceOrientation);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error al solicitar permisos de orientación:', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    // Manejar cambio de tamaño de ventana\r\n    const handleResize = () => {\r\n      const width = window.innerWidth;\r\n      const height = window.innerHeight;\r\n      \r\n      camera.aspect = width / height;\r\n      camera.updateProjectionMatrix();\r\n      renderer.setSize(width, height);\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    // Solicitar permisos al cargar\r\n    requestDeviceOrientationPermission();\r\n\r\n    // Cleanup\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n      window.removeEventListener('deviceorientation', handleDeviceOrientation);\r\n      if (containerRef.current && renderer.domElement) {\r\n        containerRef.current.removeChild(renderer.domElement);\r\n      }\r\n      renderer.dispose();\r\n    };\r\n  }, [isMobile, gyroscopeSupported, deviceOrientation]);\r\n\r\n  return (\r\n    <div className=\"gyroscope-test-container\">\r\n      <div className=\"gyroscope-header\">\r\n        <h2>Prueba de Giroscopio</h2>\r\n        <div className=\"device-info\">\r\n          <p>Dispositivo: {isMobile ? 'Móvil' : 'Desktop'}</p>\r\n          <p>Giroscopio: {gyroscopeSupported ? 'Soportado' : 'No soportado'}</p>\r\n          {isMobile && gyroscopeSupported && (\r\n            <div className=\"orientation-data\">\r\n              <p>Alpha: {deviceOrientation.alpha?.toFixed(2)}°</p>\r\n              <p>Beta: {deviceOrientation.beta?.toFixed(2)}°</p>\r\n              <p>Gamma: {deviceOrientation.gamma?.toFixed(2)}°</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      <div \r\n        ref={containerRef} \r\n        className=\"gyroscope-viewer\"\r\n        style={{ \r\n          width: '100%', \r\n          height: 'calc(100vh - 200px)',\r\n          position: 'relative',\r\n          overflow: 'hidden'\r\n        }}\r\n      />\r\n      \r\n      <div className=\"gyroscope-instructions\">\r\n        {isMobile ? (\r\n          <div>\r\n            <h3>Instrucciones para móvil:</h3>\r\n            <p>• Mueve tu dispositivo para explorar la imagen 360°</p>\r\n            <p>• El movimiento del teléfono se refleja en tiempo real</p>\r\n            <p>• Asegúrate de permitir el acceso al giroscopio cuando se solicite</p>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <h3>Instrucciones para desktop:</h3>\r\n            <p>• Usa el mouse para arrastrar y explorar la imagen 360°</p>\r\n            <p>• Usa la rueda del mouse para hacer zoom</p>\r\n            <p>• Prueba esta función en un dispositivo móvil para el giroscopio</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GyroscopeTest; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}