{"ast":null,"code":"var _jsxFileName = \"D:\\\\respaldo jose\\\\PROJECTS_V0\\\\hub360\\\\frontend\\\\src\\\\components\\\\Viewer\\\\GyroscopeTest.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport './GyroscopeTest.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GyroscopeTest() {\n  _s();\n  var _deviceOrientation$al, _deviceOrientation$be, _deviceOrientation$ga;\n  const navigate = useNavigate();\n  const containerRef = useRef();\n  const cameraRef = useRef();\n  const sceneRef = useRef();\n  const rendererRef = useRef();\n  const controlsRef = useRef();\n  const [isMobile, setIsMobile] = useState(false);\n  const [gyroscopeSupported, setGyroscopeSupported] = useState(false);\n  const [deviceOrientation, setDeviceOrientation] = useState({\n    alpha: 0,\n    beta: 0,\n    gamma: 0\n  });\n  const [permissionGranted, setPermissionGranted] = useState(false);\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [imageError, setImageError] = useState(false);\n\n  // Funci√≥n para solicitar permisos de orientaci√≥n del dispositivo\n  const requestDeviceOrientationPermission = async () => {\n    if (isMobile && 'DeviceOrientationEvent' in window) {\n      try {\n        // Para iOS 13+\n        if (typeof DeviceOrientationEvent.requestPermission === 'function') {\n          const permission = await DeviceOrientationEvent.requestPermission();\n          if (permission === 'granted') {\n            window.addEventListener('deviceorientation', handleDeviceOrientation);\n            setPermissionGranted(true);\n          }\n        } else {\n          // Para Android y otros dispositivos\n          window.addEventListener('deviceorientation', handleDeviceOrientation);\n          setPermissionGranted(true);\n        }\n      } catch (error) {\n        console.error('Error al solicitar permisos de orientaci√≥n:', error);\n      }\n    }\n  };\n\n  // Manejar eventos de orientaci√≥n del dispositivo\n  const handleDeviceOrientation = event => {\n    if (isMobile && gyroscopeSupported && event) {\n      setDeviceOrientation({\n        alpha: event.alpha || 0,\n        beta: event.beta || 0,\n        gamma: event.gamma || 0\n      });\n    }\n  };\n  useEffect(() => {\n    // Detectar si es dispositivo m√≥vil\n    const checkMobile = () => {\n      const userAgent = navigator.userAgent || navigator.vendor || window.opera;\n      const mobileRegex = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;\n      const isMobileDevice = mobileRegex.test(userAgent);\n      setIsMobile(isMobileDevice);\n      return isMobileDevice;\n    };\n    const mobile = checkMobile();\n\n    // Verificar soporte de giroscopio\n    if (mobile && window.DeviceOrientationEvent) {\n      setGyroscopeSupported(true);\n    }\n\n    // Configuraci√≥n de Three.js\n    const scene = new THREE.Scene();\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.set(0, 0, 0.1);\n    cameraRef.current = camera;\n    sceneRef.current = scene;\n    const renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    rendererRef.current = renderer;\n    if (containerRef.current) {\n      containerRef.current.appendChild(renderer.domElement);\n    }\n\n    // Controles de √≥rbita para desktop\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.enableDamping = true;\n    controls.dampingFactor = 0.05;\n    controls.enableZoom = true;\n    controls.minDistance = 0.05;\n    controls.maxDistance = 2.5;\n    controlsRef.current = controls;\n\n    // Cargar imagen 360\n    const geometry = new THREE.SphereGeometry(500, 128, 96);\n    geometry.scale(-1, 1, 1);\n    const textureLoader = new THREE.TextureLoader();\n\n    // Configurar el renderer para mejor compatibilidad m√≥vil\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n    renderer.setSize(window.innerWidth, window.innerHeight);\n\n    // Funci√≥n para cargar imagen con fallback\n    const loadImage = () => {\n      textureLoader.load('/brandshop1.jpg', texture => {\n        console.log('Imagen cargada exitosamente');\n        texture.minFilter = THREE.LinearFilter;\n        texture.magFilter = THREE.LinearFilter;\n        texture.generateMipmaps = false; // Mejor rendimiento en m√≥vil\n\n        if (texture.colorSpace !== undefined && THREE.LinearSRGBColorSpace) {\n          texture.colorSpace = THREE.LinearSRGBColorSpace;\n        }\n        const material = new THREE.MeshBasicMaterial({\n          map: texture,\n          side: THREE.DoubleSide\n        });\n        const sphere = new THREE.Mesh(geometry, material);\n        scene.add(sphere);\n        setImageLoaded(true);\n        setImageError(false);\n      }, progress => {\n        console.log('Progreso de carga:', (progress.loaded / progress.total * 100).toFixed(2) + '%');\n      }, error => {\n        console.error('Error al cargar la imagen:', error);\n\n        // Crear una textura procedural como fallback\n        const canvas = document.createElement('canvas');\n        canvas.width = 1024;\n        canvas.height = 512;\n        const ctx = canvas.getContext('2d');\n\n        // Crear un patr√≥n de gradiente para simular una imagen 360\n        const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);\n        gradient.addColorStop(0, '#1e40af');\n        gradient.addColorStop(0.25, '#38bdf8');\n        gradient.addColorStop(0.5, '#818cf8');\n        gradient.addColorStop(0.75, '#38bdf8');\n        gradient.addColorStop(1, '#1e40af');\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n        // Agregar texto indicativo\n        ctx.fillStyle = 'white';\n        ctx.font = '48px Arial';\n        ctx.textAlign = 'center';\n        ctx.fillText('Vista de Prueba 360¬∞', canvas.width / 2, canvas.height / 2);\n        ctx.font = '24px Arial';\n        ctx.fillText('Giroscopio Funcionando', canvas.width / 2, canvas.height / 2 + 40);\n        const fallbackTexture = new THREE.CanvasTexture(canvas);\n        fallbackTexture.minFilter = THREE.LinearFilter;\n        fallbackTexture.magFilter = THREE.LinearFilter;\n        const material = new THREE.MeshBasicMaterial({\n          map: fallbackTexture,\n          side: THREE.DoubleSide\n        });\n        const sphere = new THREE.Mesh(geometry, material);\n        scene.add(sphere);\n        setImageLoaded(true);\n        setImageError(true); // Marcar como error pero mostrar fallback\n      });\n    };\n\n    // Intentar cargar la imagen con timeout para m√≥viles\n    if (mobile) {\n      // En m√≥viles, establecer un timeout de 10 segundos\n      const timeout = setTimeout(() => {\n        if (!imageLoaded) {\n          console.log('Timeout alcanzado, usando fallback');\n          // Forzar el fallback\n          const canvas = document.createElement('canvas');\n          canvas.width = 1024;\n          canvas.height = 512;\n          const ctx = canvas.getContext('2d');\n          const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);\n          gradient.addColorStop(0, '#1e40af');\n          gradient.addColorStop(0.25, '#38bdf8');\n          gradient.addColorStop(0.5, '#818cf8');\n          gradient.addColorStop(0.75, '#38bdf8');\n          gradient.addColorStop(1, '#1e40af');\n          ctx.fillStyle = gradient;\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\n          ctx.fillStyle = 'white';\n          ctx.font = '48px Arial';\n          ctx.textAlign = 'center';\n          ctx.fillText('Vista de Prueba 360¬∞', canvas.width / 2, canvas.height / 2);\n          ctx.font = '24px Arial';\n          ctx.fillText('Giroscopio Funcionando', canvas.width / 2, canvas.height / 2 + 40);\n          const fallbackTexture = new THREE.CanvasTexture(canvas);\n          fallbackTexture.minFilter = THREE.LinearFilter;\n          fallbackTexture.magFilter = THREE.LinearFilter;\n          const material = new THREE.MeshBasicMaterial({\n            map: fallbackTexture,\n            side: THREE.DoubleSide\n          });\n          const sphere = new THREE.Mesh(geometry, material);\n          scene.add(sphere);\n          setImageLoaded(true);\n          setImageError(true);\n        }\n      }, 10000);\n      loadImage();\n\n      // Cleanup del timeout\n      return () => clearTimeout(timeout);\n    } else {\n      loadImage();\n    }\n\n    // Funci√≥n de animaci√≥n\n    const animate = () => {\n      requestAnimationFrame(animate);\n      if (mobile && gyroscopeSupported && permissionGranted && deviceOrientation) {\n        // Usar datos del giroscopio para rotar la c√°mara\n        const {\n          alpha,\n          beta,\n          gamma\n        } = deviceOrientation;\n        if (alpha !== null && beta !== null && gamma !== null && alpha !== undefined && beta !== undefined && gamma !== undefined) {\n          // Convertir grados a radianes\n          const alphaRad = THREE.MathUtils.degToRad(alpha);\n          const betaRad = THREE.MathUtils.degToRad(beta);\n          const gammaRad = THREE.MathUtils.degToRad(gamma);\n\n          // Aplicar rotaci√≥n basada en el giroscopio con suavizado\n          const targetRotationX = betaRad - Math.PI / 2; // Pitch (rotaci√≥n X)\n          const targetRotationY = alphaRad; // Yaw (rotaci√≥n Y)\n          const targetRotationZ = gammaRad; // Roll (rotaci√≥n Z)\n\n          // Suavizar la rotaci√≥n para evitar movimientos bruscos\n          camera.rotation.x += (targetRotationX - camera.rotation.x) * 0.1;\n          camera.rotation.y += (targetRotationY - camera.rotation.y) * 0.1;\n          camera.rotation.z += (targetRotationZ - camera.rotation.z) * 0.1;\n        }\n      } else {\n        // Usar controles de √≥rbita para desktop\n        controls.update();\n      }\n      renderer.render(scene, camera);\n    };\n    animate();\n\n    // Manejar cambio de tama√±o de ventana\n    const handleResize = () => {\n      const width = window.innerWidth;\n      const height = window.innerHeight;\n      camera.aspect = width / height;\n      camera.updateProjectionMatrix();\n      renderer.setSize(width, height);\n    };\n    window.addEventListener('resize', handleResize);\n\n    // Solicitar permisos al cargar\n    requestDeviceOrientationPermission();\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      window.removeEventListener('deviceorientation', handleDeviceOrientation);\n      if (containerRef.current && renderer.domElement) {\n        containerRef.current.removeChild(renderer.domElement);\n      }\n      renderer.dispose();\n    };\n  }, [isMobile, gyroscopeSupported, deviceOrientation, permissionGranted]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"gyroscope-test-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"back-button\",\n      onClick: () => navigate('/hub'),\n      children: \"\\u2190 Volver al Hub\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gyroscope-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Prueba de Giroscopio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"device-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Dispositivo: \", isMobile ? 'M√≥vil' : 'Desktop']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Giroscopio: \", gyroscopeSupported ? 'Soportado' : 'No soportado']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), isMobile && gyroscopeSupported && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Permisos: \", permissionGranted ? 'Concedidos' : 'Pendientes']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this), isMobile && gyroscopeSupported && permissionGranted && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orientation-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Alpha: \", (_deviceOrientation$al = deviceOrientation.alpha) === null || _deviceOrientation$al === void 0 ? void 0 : _deviceOrientation$al.toFixed(2), \"\\xB0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Beta: \", (_deviceOrientation$be = deviceOrientation.beta) === null || _deviceOrientation$be === void 0 ? void 0 : _deviceOrientation$be.toFixed(2), \"\\xB0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Gamma: \", (_deviceOrientation$ga = deviceOrientation.gamma) === null || _deviceOrientation$ga === void 0 ? void 0 : _deviceOrientation$ga.toFixed(2), \"\\xB0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"gyroscope-viewer\",\n      style: {\n        width: '100%',\n        height: 'calc(100vh - 200px)',\n        position: 'relative',\n        overflow: 'hidden'\n      },\n      children: [!imageLoaded && !imageError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-indicator\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cargando imagen 360\\xB0...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }, this), imageError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u26A0\\uFE0F Imagen no disponible\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No se pudo cargar la imagen original. Mostrando vista de prueba.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '0.9rem',\n            color: '#94a3b8'\n          },\n          children: \"La imagen brandshop1.jpg es muy grande (25MB) y puede tardar en cargar en dispositivos m\\xF3viles.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.reload(),\n          style: {\n            background: '#38bdf8',\n            color: 'white',\n            border: 'none',\n            borderRadius: 6,\n            padding: '10px 20px',\n            marginTop: '10px',\n            cursor: 'pointer'\n          },\n          children: \"\\uD83D\\uDD04 Reintentar Carga\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gyroscope-instructions\",\n      children: isMobile ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Instrucciones para m\\xF3vil:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Mueve tu dispositivo para explorar la imagen 360\\xB0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 El movimiento del tel\\xE9fono se refleja en tiempo real\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Aseg\\xFArate de permitir el acceso al giroscopio cuando se solicite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), !permissionGranted && gyroscopeSupported && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"permission-btn\",\n          onClick: requestDeviceOrientationPermission,\n          style: {\n            background: '#38bdf8',\n            color: 'white',\n            border: 'none',\n            borderRadius: 6,\n            padding: '10px 20px',\n            marginTop: '10px',\n            cursor: 'pointer',\n            fontSize: '0.9rem'\n          },\n          children: \"\\uD83D\\uDD10 Solicitar Permisos de Giroscopio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Instrucciones para desktop:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Usa el mouse para arrastrar y explorar la imagen 360\\xB0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Usa la rueda del mouse para hacer zoom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Prueba esta funci\\xF3n en un dispositivo m\\xF3vil para el giroscopio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 292,\n    columnNumber: 5\n  }, this);\n}\n_s(GyroscopeTest, \"tCDHRPl2v32Kb3+ydUQ4YRjQJWs=\", false, function () {\n  return [useNavigate];\n});\n_c = GyroscopeTest;\nexport default GyroscopeTest;\nvar _c;\n$RefreshReg$(_c, \"GyroscopeTest\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useNavigate","THREE","OrbitControls","jsxDEV","_jsxDEV","GyroscopeTest","_s","_deviceOrientation$al","_deviceOrientation$be","_deviceOrientation$ga","navigate","containerRef","cameraRef","sceneRef","rendererRef","controlsRef","isMobile","setIsMobile","gyroscopeSupported","setGyroscopeSupported","deviceOrientation","setDeviceOrientation","alpha","beta","gamma","permissionGranted","setPermissionGranted","imageLoaded","setImageLoaded","imageError","setImageError","requestDeviceOrientationPermission","window","DeviceOrientationEvent","requestPermission","permission","addEventListener","handleDeviceOrientation","error","console","event","checkMobile","userAgent","navigator","vendor","opera","mobileRegex","isMobileDevice","test","mobile","scene","Scene","camera","PerspectiveCamera","innerWidth","innerHeight","position","set","current","renderer","WebGLRenderer","antialias","setSize","appendChild","domElement","controls","enableDamping","dampingFactor","enableZoom","minDistance","maxDistance","geometry","SphereGeometry","scale","textureLoader","TextureLoader","setPixelRatio","Math","min","devicePixelRatio","loadImage","load","texture","log","minFilter","LinearFilter","magFilter","generateMipmaps","colorSpace","undefined","LinearSRGBColorSpace","material","MeshBasicMaterial","map","side","DoubleSide","sphere","Mesh","add","progress","loaded","total","toFixed","canvas","document","createElement","width","height","ctx","getContext","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","font","textAlign","fillText","fallbackTexture","CanvasTexture","timeout","setTimeout","clearTimeout","animate","requestAnimationFrame","alphaRad","MathUtils","degToRad","betaRad","gammaRad","targetRotationX","PI","targetRotationY","targetRotationZ","rotation","x","y","z","update","render","handleResize","aspect","updateProjectionMatrix","removeEventListener","removeChild","dispose","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","style","overflow","fontSize","color","location","reload","background","border","borderRadius","padding","marginTop","cursor","_c","$RefreshReg$"],"sources":["D:/respaldo jose/PROJECTS_V0/hub360/frontend/src/components/Viewer/GyroscopeTest.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport './GyroscopeTest.css';\r\n\r\nfunction GyroscopeTest() {\r\n  const navigate = useNavigate();\r\n  const containerRef = useRef();\r\n  const cameraRef = useRef();\r\n  const sceneRef = useRef();\r\n  const rendererRef = useRef();\r\n  const controlsRef = useRef();\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [gyroscopeSupported, setGyroscopeSupported] = useState(false);\r\n  const [deviceOrientation, setDeviceOrientation] = useState({ alpha: 0, beta: 0, gamma: 0 });\r\n  const [permissionGranted, setPermissionGranted] = useState(false);\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n  const [imageError, setImageError] = useState(false);\r\n\r\n  // Funci√≥n para solicitar permisos de orientaci√≥n del dispositivo\r\n  const requestDeviceOrientationPermission = async () => {\r\n    if (isMobile && 'DeviceOrientationEvent' in window) {\r\n      try {\r\n        // Para iOS 13+\r\n        if (typeof DeviceOrientationEvent.requestPermission === 'function') {\r\n          const permission = await DeviceOrientationEvent.requestPermission();\r\n          if (permission === 'granted') {\r\n            window.addEventListener('deviceorientation', handleDeviceOrientation);\r\n            setPermissionGranted(true);\r\n          }\r\n        } else {\r\n          // Para Android y otros dispositivos\r\n          window.addEventListener('deviceorientation', handleDeviceOrientation);\r\n          setPermissionGranted(true);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al solicitar permisos de orientaci√≥n:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Manejar eventos de orientaci√≥n del dispositivo\r\n  const handleDeviceOrientation = (event) => {\r\n    if (isMobile && gyroscopeSupported && event) {\r\n      setDeviceOrientation({\r\n        alpha: event.alpha || 0,\r\n        beta: event.beta || 0,\r\n        gamma: event.gamma || 0\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Detectar si es dispositivo m√≥vil\r\n    const checkMobile = () => {\r\n      const userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n      const mobileRegex = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;\r\n      const isMobileDevice = mobileRegex.test(userAgent);\r\n      setIsMobile(isMobileDevice);\r\n      return isMobileDevice;\r\n    };\r\n\r\n    const mobile = checkMobile();\r\n\r\n    // Verificar soporte de giroscopio\r\n    if (mobile && window.DeviceOrientationEvent) {\r\n      setGyroscopeSupported(true);\r\n    }\r\n\r\n    // Configuraci√≥n de Three.js\r\n    const scene = new THREE.Scene();\r\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\r\n    camera.position.set(0, 0, 0.1);\r\n    cameraRef.current = camera;\r\n    sceneRef.current = scene;\r\n\r\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    rendererRef.current = renderer;\r\n    if (containerRef.current) {\r\n      containerRef.current.appendChild(renderer.domElement);\r\n    }\r\n\r\n    // Controles de √≥rbita para desktop\r\n    const controls = new OrbitControls(camera, renderer.domElement);\r\n    controls.enableDamping = true;\r\n    controls.dampingFactor = 0.05;\r\n    controls.enableZoom = true;\r\n    controls.minDistance = 0.05;\r\n    controls.maxDistance = 2.5;\r\n    controlsRef.current = controls;\r\n\r\n    // Cargar imagen 360\r\n    const geometry = new THREE.SphereGeometry(500, 128, 96);\r\n    geometry.scale(-1, 1, 1);\r\n\r\n    const textureLoader = new THREE.TextureLoader();\r\n    \r\n    // Configurar el renderer para mejor compatibilidad m√≥vil\r\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    \r\n    // Funci√≥n para cargar imagen con fallback\r\n    const loadImage = () => {\r\n      textureLoader.load(\r\n        '/brandshop1.jpg',\r\n        texture => {\r\n          console.log('Imagen cargada exitosamente');\r\n          texture.minFilter = THREE.LinearFilter;\r\n          texture.magFilter = THREE.LinearFilter;\r\n          texture.generateMipmaps = false; // Mejor rendimiento en m√≥vil\r\n          \r\n          if (texture.colorSpace !== undefined && THREE.LinearSRGBColorSpace) {\r\n            texture.colorSpace = THREE.LinearSRGBColorSpace;\r\n          }\r\n          \r\n          const material = new THREE.MeshBasicMaterial({\r\n            map: texture,\r\n            side: THREE.DoubleSide\r\n          });\r\n          \r\n          const sphere = new THREE.Mesh(geometry, material);\r\n          scene.add(sphere);\r\n          setImageLoaded(true);\r\n          setImageError(false);\r\n        },\r\n        (progress) => {\r\n          console.log('Progreso de carga:', (progress.loaded / progress.total * 100).toFixed(2) + '%');\r\n        },\r\n        error => {\r\n          console.error('Error al cargar la imagen:', error);\r\n          \r\n          // Crear una textura procedural como fallback\r\n          const canvas = document.createElement('canvas');\r\n          canvas.width = 1024;\r\n          canvas.height = 512;\r\n          const ctx = canvas.getContext('2d');\r\n          \r\n          // Crear un patr√≥n de gradiente para simular una imagen 360\r\n          const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);\r\n          gradient.addColorStop(0, '#1e40af');\r\n          gradient.addColorStop(0.25, '#38bdf8');\r\n          gradient.addColorStop(0.5, '#818cf8');\r\n          gradient.addColorStop(0.75, '#38bdf8');\r\n          gradient.addColorStop(1, '#1e40af');\r\n          \r\n          ctx.fillStyle = gradient;\r\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n          \r\n          // Agregar texto indicativo\r\n          ctx.fillStyle = 'white';\r\n          ctx.font = '48px Arial';\r\n          ctx.textAlign = 'center';\r\n          ctx.fillText('Vista de Prueba 360¬∞', canvas.width / 2, canvas.height / 2);\r\n          ctx.font = '24px Arial';\r\n          ctx.fillText('Giroscopio Funcionando', canvas.width / 2, canvas.height / 2 + 40);\r\n          \r\n          const fallbackTexture = new THREE.CanvasTexture(canvas);\r\n          fallbackTexture.minFilter = THREE.LinearFilter;\r\n          fallbackTexture.magFilter = THREE.LinearFilter;\r\n          \r\n          const material = new THREE.MeshBasicMaterial({\r\n            map: fallbackTexture,\r\n            side: THREE.DoubleSide\r\n          });\r\n          \r\n          const sphere = new THREE.Mesh(geometry, material);\r\n          scene.add(sphere);\r\n          setImageLoaded(true);\r\n          setImageError(true); // Marcar como error pero mostrar fallback\r\n        }\r\n      );\r\n    };\r\n    \r\n    // Intentar cargar la imagen con timeout para m√≥viles\r\n    if (mobile) {\r\n      // En m√≥viles, establecer un timeout de 10 segundos\r\n      const timeout = setTimeout(() => {\r\n        if (!imageLoaded) {\r\n          console.log('Timeout alcanzado, usando fallback');\r\n          // Forzar el fallback\r\n          const canvas = document.createElement('canvas');\r\n          canvas.width = 1024;\r\n          canvas.height = 512;\r\n          const ctx = canvas.getContext('2d');\r\n          \r\n          const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);\r\n          gradient.addColorStop(0, '#1e40af');\r\n          gradient.addColorStop(0.25, '#38bdf8');\r\n          gradient.addColorStop(0.5, '#818cf8');\r\n          gradient.addColorStop(0.75, '#38bdf8');\r\n          gradient.addColorStop(1, '#1e40af');\r\n          \r\n          ctx.fillStyle = gradient;\r\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n          \r\n          ctx.fillStyle = 'white';\r\n          ctx.font = '48px Arial';\r\n          ctx.textAlign = 'center';\r\n          ctx.fillText('Vista de Prueba 360¬∞', canvas.width / 2, canvas.height / 2);\r\n          ctx.font = '24px Arial';\r\n          ctx.fillText('Giroscopio Funcionando', canvas.width / 2, canvas.height / 2 + 40);\r\n          \r\n          const fallbackTexture = new THREE.CanvasTexture(canvas);\r\n          fallbackTexture.minFilter = THREE.LinearFilter;\r\n          fallbackTexture.magFilter = THREE.LinearFilter;\r\n          \r\n          const material = new THREE.MeshBasicMaterial({\r\n            map: fallbackTexture,\r\n            side: THREE.DoubleSide\r\n          });\r\n          \r\n          const sphere = new THREE.Mesh(geometry, material);\r\n          scene.add(sphere);\r\n          setImageLoaded(true);\r\n          setImageError(true);\r\n        }\r\n      }, 10000);\r\n      \r\n      loadImage();\r\n      \r\n      // Cleanup del timeout\r\n      return () => clearTimeout(timeout);\r\n    } else {\r\n      loadImage();\r\n    }\r\n\r\n    // Funci√≥n de animaci√≥n\r\n    const animate = () => {\r\n      requestAnimationFrame(animate);\r\n      \r\n      if (mobile && gyroscopeSupported && permissionGranted && deviceOrientation) {\r\n        // Usar datos del giroscopio para rotar la c√°mara\r\n        const { alpha, beta, gamma } = deviceOrientation;\r\n        \r\n        if (alpha !== null && beta !== null && gamma !== null && \r\n            alpha !== undefined && beta !== undefined && gamma !== undefined) {\r\n          // Convertir grados a radianes\r\n          const alphaRad = THREE.MathUtils.degToRad(alpha);\r\n          const betaRad = THREE.MathUtils.degToRad(beta);\r\n          const gammaRad = THREE.MathUtils.degToRad(gamma);\r\n          \r\n          // Aplicar rotaci√≥n basada en el giroscopio con suavizado\r\n          const targetRotationX = betaRad - Math.PI / 2; // Pitch (rotaci√≥n X)\r\n          const targetRotationY = alphaRad; // Yaw (rotaci√≥n Y)\r\n          const targetRotationZ = gammaRad; // Roll (rotaci√≥n Z)\r\n          \r\n          // Suavizar la rotaci√≥n para evitar movimientos bruscos\r\n          camera.rotation.x += (targetRotationX - camera.rotation.x) * 0.1;\r\n          camera.rotation.y += (targetRotationY - camera.rotation.y) * 0.1;\r\n          camera.rotation.z += (targetRotationZ - camera.rotation.z) * 0.1;\r\n        }\r\n      } else {\r\n        // Usar controles de √≥rbita para desktop\r\n        controls.update();\r\n      }\r\n      \r\n      renderer.render(scene, camera);\r\n    };\r\n    animate();\r\n\r\n\r\n\r\n    // Manejar cambio de tama√±o de ventana\r\n    const handleResize = () => {\r\n      const width = window.innerWidth;\r\n      const height = window.innerHeight;\r\n      \r\n      camera.aspect = width / height;\r\n      camera.updateProjectionMatrix();\r\n      renderer.setSize(width, height);\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    // Solicitar permisos al cargar\r\n    requestDeviceOrientationPermission();\r\n\r\n    // Cleanup\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n      window.removeEventListener('deviceorientation', handleDeviceOrientation);\r\n      if (containerRef.current && renderer.domElement) {\r\n        containerRef.current.removeChild(renderer.domElement);\r\n      }\r\n      renderer.dispose();\r\n    };\r\n  }, [isMobile, gyroscopeSupported, deviceOrientation, permissionGranted]);\r\n\r\n  return (\r\n    <div className=\"gyroscope-test-container\">\r\n      <button className=\"back-button\" onClick={() => navigate('/hub')}>\r\n        ‚Üê Volver al Hub\r\n      </button>\r\n      \r\n      <div className=\"gyroscope-header\">\r\n        <h2>Prueba de Giroscopio</h2>\r\n        <div className=\"device-info\">\r\n          <p>Dispositivo: {isMobile ? 'M√≥vil' : 'Desktop'}</p>\r\n          <p>Giroscopio: {gyroscopeSupported ? 'Soportado' : 'No soportado'}</p>\r\n          {isMobile && gyroscopeSupported && (\r\n            <p>Permisos: {permissionGranted ? 'Concedidos' : 'Pendientes'}</p>\r\n          )}\r\n          {isMobile && gyroscopeSupported && permissionGranted && (\r\n            <div className=\"orientation-data\">\r\n              <p>Alpha: {deviceOrientation.alpha?.toFixed(2)}¬∞</p>\r\n              <p>Beta: {deviceOrientation.beta?.toFixed(2)}¬∞</p>\r\n              <p>Gamma: {deviceOrientation.gamma?.toFixed(2)}¬∞</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      <div \r\n        ref={containerRef} \r\n        className=\"gyroscope-viewer\"\r\n        style={{ \r\n          width: '100%', \r\n          height: 'calc(100vh - 200px)',\r\n          position: 'relative',\r\n          overflow: 'hidden'\r\n        }}\r\n      >\r\n        {!imageLoaded && !imageError && (\r\n          <div className=\"loading-indicator\">\r\n            <div className=\"spinner\"></div>\r\n            <p>Cargando imagen 360¬∞...</p>\r\n          </div>\r\n        )}\r\n        \r\n        {imageError && (\r\n          <div className=\"error-message\">\r\n            <h3>‚ö†Ô∏è Imagen no disponible</h3>\r\n            <p>No se pudo cargar la imagen original. Mostrando vista de prueba.</p>\r\n            <p style={{fontSize: '0.9rem', color: '#94a3b8'}}>\r\n              La imagen brandshop1.jpg es muy grande (25MB) y puede tardar en cargar en dispositivos m√≥viles.\r\n            </p>\r\n            <button \r\n              onClick={() => window.location.reload()}\r\n              style={{\r\n                background: '#38bdf8',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: 6,\r\n                padding: '10px 20px',\r\n                marginTop: '10px',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              üîÑ Reintentar Carga\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      <div className=\"gyroscope-instructions\">\r\n        {isMobile ? (\r\n          <div>\r\n            <h3>Instrucciones para m√≥vil:</h3>\r\n            <p>‚Ä¢ Mueve tu dispositivo para explorar la imagen 360¬∞</p>\r\n            <p>‚Ä¢ El movimiento del tel√©fono se refleja en tiempo real</p>\r\n            <p>‚Ä¢ Aseg√∫rate de permitir el acceso al giroscopio cuando se solicite</p>\r\n            {!permissionGranted && gyroscopeSupported && (\r\n              <button \r\n                className=\"permission-btn\"\r\n                onClick={requestDeviceOrientationPermission}\r\n                style={{\r\n                  background: '#38bdf8',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: 6,\r\n                  padding: '10px 20px',\r\n                  marginTop: '10px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '0.9rem'\r\n                }}\r\n              >\r\n                üîê Solicitar Permisos de Giroscopio\r\n              </button>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <h3>Instrucciones para desktop:</h3>\r\n            <p>‚Ä¢ Usa el mouse para arrastrar y explorar la imagen 360¬∞</p>\r\n            <p>‚Ä¢ Usa la rueda del mouse para hacer zoom</p>\r\n            <p>‚Ä¢ Prueba esta funci√≥n en un dispositivo m√≥vil para el giroscopio</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GyroscopeTest; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}