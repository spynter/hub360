{"ast":null,"code":"var _jsxFileName = \"D:\\\\respaldo jose\\\\PROJECTS_V0\\\\hub360\\\\frontend\\\\src\\\\components\\\\Editor\\\\ApiKeyManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../../services/api';\nimport './ApiKeyManager.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ApiKeyManager({\n  tourId,\n  initialApiKey\n}) {\n  _s();\n  const [apiKey, setApiKey] = useState(initialApiKey);\n  const [loading, setLoading] = useState(false);\n  const [copied, setCopied] = useState(false);\n  const [embedCode, setEmbedCode] = useState('');\n  const generateNewKey = async () => {\n    if (window.confirm('Â¿EstÃ¡s seguro de generar una nueva API Key? Esto invalidarÃ¡ la anterior.')) {\n      setLoading(true);\n      try {\n        const response = await api.generateApiKey(tourId);\n        setApiKey(response.apiKey);\n        updateEmbedCode(response.apiKey);\n      } catch (error) {\n        console.error('Error generando API Key:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(apiKey);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n  const updateEmbedCode = key => {\n    const code = `<div id=\"tour-360-container\"></div>\n<script src=\"${window.location.origin}/tour-360-embed.js\"></script>\n<script>\n  Tour360.init({\n    container: 'tour-360-container',\n    apiKey: '${key}'\n  });\n</script>`;\n    setEmbedCode(code);\n  };\n  useEffect(() => {\n    if (apiKey) {\n      updateEmbedCode(apiKey);\n    }\n  }, [apiKey]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"api-key-manager\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"API Key para Incrustar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Utiliza esta clave para incrustar este tour en otros sitios web.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"key-display\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"key-value\",\n        children: [apiKey || 'No hay API Key generada', /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"copy-btn\",\n          onClick: copyToClipboard,\n          disabled: !apiKey || copied,\n          children: copied ? 'âœ“ Copiado' : 'ðŸ“‹ Copiar'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"generate-btn\",\n        onClick: generateNewKey,\n        disabled: loading,\n        children: loading ? 'Generando...' : 'Generar Nueva Key'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), embedCode && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"embed-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"C\\xF3digo para Incrustar:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: embedCode,\n        readOnly: true,\n        rows: \"5\",\n        onClick: e => e.target.select()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"note\",\n        children: \"Copia y pega este c\\xF3digo en tu sitio web para mostrar el tour.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(ApiKeyManager, \"2Gm+4lrBlwSZXD015aNLRyKYGlI=\");\n_c = ApiKeyManager;\nexport default ApiKeyManager;\nvar _c;\n$RefreshReg$(_c, \"ApiKeyManager\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","ApiKeyManager","tourId","initialApiKey","_s","apiKey","setApiKey","loading","setLoading","copied","setCopied","embedCode","setEmbedCode","generateNewKey","window","confirm","response","generateApiKey","updateEmbedCode","error","console","copyToClipboard","navigator","clipboard","writeText","setTimeout","key","code","location","origin","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","value","readOnly","rows","e","target","select","_c","$RefreshReg$"],"sources":["D:/respaldo jose/PROJECTS_V0/hub360/frontend/src/components/Editor/ApiKeyManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../../services/api';\r\nimport './ApiKeyManager.css';\r\n\r\nfunction ApiKeyManager({ tourId, initialApiKey }) {\r\n  const [apiKey, setApiKey] = useState(initialApiKey);\r\n  const [loading, setLoading] = useState(false);\r\n  const [copied, setCopied] = useState(false);\r\n  const [embedCode, setEmbedCode] = useState('');\r\n\r\n  const generateNewKey = async () => {\r\n    if (window.confirm('Â¿EstÃ¡s seguro de generar una nueva API Key? Esto invalidarÃ¡ la anterior.')) {\r\n      setLoading(true);\r\n      try {\r\n        const response = await api.generateApiKey(tourId);\r\n        setApiKey(response.apiKey);\r\n        updateEmbedCode(response.apiKey);\r\n      } catch (error) {\r\n        console.error('Error generando API Key:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const copyToClipboard = () => {\r\n    navigator.clipboard.writeText(apiKey);\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  };\r\n\r\n  const updateEmbedCode = (key) => {\r\n    const code = `<div id=\"tour-360-container\"></div>\r\n<script src=\"${window.location.origin}/tour-360-embed.js\"></script>\r\n<script>\r\n  Tour360.init({\r\n    container: 'tour-360-container',\r\n    apiKey: '${key}'\r\n  });\r\n</script>`;\r\n    setEmbedCode(code);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (apiKey) {\r\n      updateEmbedCode(apiKey);\r\n    }\r\n  }, [apiKey]);\r\n\r\n  return (\r\n    <div className=\"api-key-manager\">\r\n      <h3>API Key para Incrustar</h3>\r\n      <p>Utiliza esta clave para incrustar este tour en otros sitios web.</p>\r\n      <div className=\"key-display\">\r\n        <div className=\"key-value\">\r\n          {apiKey || 'No hay API Key generada'}\r\n          <button \r\n            className=\"copy-btn\"\r\n            onClick={copyToClipboard}\r\n            disabled={!apiKey || copied}\r\n          >\r\n            {copied ? 'âœ“ Copiado' : 'ðŸ“‹ Copiar'}\r\n          </button>\r\n        </div>\r\n        <button \r\n          className=\"generate-btn\"\r\n          onClick={generateNewKey}\r\n          disabled={loading}\r\n        >\r\n          {loading ? 'Generando...' : 'Generar Nueva Key'}\r\n        </button>\r\n      </div>\r\n      {embedCode && (\r\n        <div className=\"embed-section\">\r\n          <h4>CÃ³digo para Incrustar:</h4>\r\n          <textarea\r\n            value={embedCode}\r\n            readOnly\r\n            rows=\"5\"\r\n            onClick={e => e.target.select()}\r\n          />\r\n          <p className=\"note\">\r\n            Copia y pega este cÃ³digo en tu sitio web para mostrar el tour.\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ApiKeyManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}