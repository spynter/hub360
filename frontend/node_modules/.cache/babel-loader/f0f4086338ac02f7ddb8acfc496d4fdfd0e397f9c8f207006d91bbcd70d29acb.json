{"ast":null,"code":"const {\n  createProxyMiddleware\n} = require('http-proxy-middleware');\nmodule.exports = function (app) {\n  var _process$env$REACT_AP;\n  // Configurar proxy para la API del backend\n  app.use('/api', createProxyMiddleware({\n    target: ((_process$env$REACT_AP = process.env.REACT_APP_API_URL) === null || _process$env$REACT_AP === void 0 ? void 0 : _process$env$REACT_AP.replace('/api', '')) || 'http://localhost:5000',\n    changeOrigin: true,\n    pathRewrite: {\n      '^/api': '/api'\n    },\n    onProxyReq: (proxyReq, req, res) => {\n      // Agregar headers CORS si es necesario\n      proxyReq.setHeader('Origin', process.env.REACT_APP_FRONTEND_URL || 'http://localhost:3000');\n    }\n  }));\n\n  // Deshabilitar WebSocket del servidor de desarrollo\n  app.use('/ws', (req, res) => {\n    res.status(404).send('WebSocket disabled');\n  });\n\n  // Configurar headers para evitar errores de WebSocket\n  app.use((req, res, next) => {\n    res.setHeader('X-WebSocket-Disabled', 'true');\n    next();\n  });\n};","map":{"version":3,"names":["createProxyMiddleware","require","module","exports","app","_process$env$REACT_AP","use","target","process","env","REACT_APP_API_URL","replace","changeOrigin","pathRewrite","onProxyReq","proxyReq","req","res","setHeader","REACT_APP_FRONTEND_URL","status","send","next"],"sources":["D:/respaldo jose/PROJECTS_V0/hub360/frontend/src/config/websocket.js"],"sourcesContent":["const { createProxyMiddleware } = require('http-proxy-middleware');\r\n\r\nmodule.exports = function(app) {\r\n  // Configurar proxy para la API del backend\r\n  app.use(\r\n    '/api',\r\n    createProxyMiddleware({\r\n      target: process.env.REACT_APP_API_URL?.replace('/api', '') || 'http://localhost:5000',\r\n      changeOrigin: true,\r\n      pathRewrite: {\r\n        '^/api': '/api'\r\n      },\r\n      onProxyReq: (proxyReq, req, res) => {\r\n        // Agregar headers CORS si es necesario\r\n        proxyReq.setHeader('Origin', process.env.REACT_APP_FRONTEND_URL || 'http://localhost:3000');\r\n      }\r\n    })\r\n  );\r\n\r\n  // Deshabilitar WebSocket del servidor de desarrollo\r\n  app.use('/ws', (req, res) => {\r\n    res.status(404).send('WebSocket disabled');\r\n  });\r\n\r\n  // Configurar headers para evitar errores de WebSocket\r\n  app.use((req, res, next) => {\r\n    res.setHeader('X-WebSocket-Disabled', 'true');\r\n    next();\r\n  });\r\n}; "],"mappings":"AAAA,MAAM;EAAEA;AAAsB,CAAC,GAAGC,OAAO,CAAC,uBAAuB,CAAC;AAElEC,MAAM,CAACC,OAAO,GAAG,UAASC,GAAG,EAAE;EAAA,IAAAC,qBAAA;EAC7B;EACAD,GAAG,CAACE,GAAG,CACL,MAAM,EACNN,qBAAqB,CAAC;IACpBO,MAAM,EAAE,EAAAF,qBAAA,GAAAG,OAAO,CAACC,GAAG,CAACC,iBAAiB,cAAAL,qBAAA,uBAA7BA,qBAAA,CAA+BM,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,KAAI,uBAAuB;IACrFC,YAAY,EAAE,IAAI;IAClBC,WAAW,EAAE;MACX,OAAO,EAAE;IACX,CAAC;IACDC,UAAU,EAAEA,CAACC,QAAQ,EAAEC,GAAG,EAAEC,GAAG,KAAK;MAClC;MACAF,QAAQ,CAACG,SAAS,CAAC,QAAQ,EAAEV,OAAO,CAACC,GAAG,CAACU,sBAAsB,IAAI,uBAAuB,CAAC;IAC7F;EACF,CAAC,CACH,CAAC;;EAED;EACAf,GAAG,CAACE,GAAG,CAAC,KAAK,EAAE,CAACU,GAAG,EAAEC,GAAG,KAAK;IAC3BA,GAAG,CAACG,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,oBAAoB,CAAC;EAC5C,CAAC,CAAC;;EAEF;EACAjB,GAAG,CAACE,GAAG,CAAC,CAACU,GAAG,EAAEC,GAAG,EAAEK,IAAI,KAAK;IAC1BL,GAAG,CAACC,SAAS,CAAC,sBAAsB,EAAE,MAAM,CAAC;IAC7CI,IAAI,CAAC,CAAC;EACR,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}